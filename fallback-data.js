// fallback-data.js - –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º
const fs = require('fs');
const path = require('path');

const fallbackEvents = [
    {
        date: "2026-02-28",
        lat: 9.0810,
        lng: 7.4895,
        country: "–ù–∏–≥–µ—Ä–∏—è",
        city: "–ê–±—É–¥–∂–∞",
        type: "–Ω–∞–ø–∞–¥–µ–Ω–∏–µ",
        title: "–ù–∞–ø–∞–¥–µ–Ω–∏–µ –Ω–∞ —Ü–µ—Ä–∫–æ–≤—å –≤ –ø—Ä–∏–≥–æ—Ä–æ–¥–µ –ê–±—É–¥–∂–∏",
        description: "–í–æ–æ—Ä—É–∂–µ–Ω–Ω—ã–µ –ª—é–¥–∏ –∞—Ç–∞–∫–æ–≤–∞–ª–∏ –ø—Ä–∏—Ö–æ–∂–∞–Ω –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–∫—Ä–µ—Å–Ω–æ–π —Å–ª—É–∂–±—ã. 12 —á–µ–ª–æ–≤–µ–∫ –ø–æ–≥–∏–±–ª–∏.",
        source: "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ",
        url: "#",
        victims: 12
    },
    {
        date: "2026-02-27",
        lat: 20.9517,
        lng: 85.0985,
        country: "–ò–Ω–¥–∏—è",
        city: "–û–¥–∏—à–∞",
        type: "—É–±–∏–π—Å—Ç–≤–æ",
        title: "–£–±–∏–π—Å—Ç–≤–æ —Ö—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫–æ–π —Å–µ–º—å–∏ –≤ –û–¥–∏—à–µ",
        description: "–¢—Ä–∏ —á–ª–µ–Ω–∞ —Ö—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫–æ–π —Å–µ–º—å–∏ –±—ã–ª–∏ —É–±–∏—Ç—ã –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –Ω–∞–ø–∞–¥–µ–Ω–∏—è.",
        source: "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ",
        url: "#",
        victims: 3
    },
    {
        date: "2026-02-26",
        lat: 35.6892,
        lng: 51.3890,
        country: "–ò—Ä–∞–Ω",
        city: "–¢–µ–≥–µ—Ä–∞–Ω",
        type: "–∞—Ä–µ—Å—Ç",
        title: "–†–µ–π–¥ –Ω–∞ —Ü–µ—Ä–∫–æ–≤—å –≤ –¢–µ–≥–µ—Ä–∞–Ω–µ",
        description: "–í–ª–∞—Å—Ç–∏ –∞—Ä–µ—Å—Ç–æ–≤–∞–ª–∏ 8 —Ö—Ä–∏—Å—Ç–∏–∞–Ω –≤–æ –≤—Ä–µ–º—è –º–æ–ª–∏—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–±—Ä–∞–Ω–∏—è.",
        source: "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ",
        url: "#",
        victims: 8
    },
    {
        date: "2026-02-25",
        lat: 33.3152,
        lng: 44.3661,
        country: "–ò—Ä–∞–∫",
        city: "–ë–∞–≥–¥–∞–¥",
        type: "–Ω–∞–ø–∞–¥–µ–Ω–∏–µ",
        title: "–í–∑—Ä—ã–≤ –≤–æ–∑–ª–µ —Ö—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫–æ–≥–æ —Ä–∞–π–æ–Ω–∞ –ë–∞–≥–¥–∞–¥–∞",
        description: "–í–∑—Ä—ã–≤ —É–±–∏–ª 5 —á–µ–ª–æ–≤–µ–∫ –∏ —Ä–∞–Ω–∏–ª 12 –≤–æ–∑–ª–µ —Ü–µ—Ä–∫–≤–∏.",
        source: "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ",
        url: "#",
        victims: 5
    },
    {
        date: "2026-02-24",
        lat: 30.0444,
        lng: 31.2357,
        country: "–ï–≥–∏–ø–µ—Ç",
        city: "–ö–∞–∏—Ä",
        type: "–¥–∏—Å–∫—Ä–∏–º–∏–Ω–∞—Ü–∏—è",
        title: "–ü—Ä–∏–∫–∞–∑ –æ –∑–∞–∫—Ä—ã—Ç–∏–∏ —Ü–µ—Ä–∫–≤–∏",
        description: "–í–ª–∞—Å—Ç–∏ –∑–∞–∫—Ä—ã–ª–∏ –Ω–µ–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ü–µ—Ä–∫–æ–≤–Ω–æ–µ –∑–¥–∞–Ω–∏–µ.",
        source: "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ",
        url: "#",
        victims: 0
    },
    {
        date: "2026-02-23",
        lat: -1.2921,
        lng: 36.8219,
        country: "–ö–µ–Ω–∏—è",
        city: "–ù–∞–π—Ä–æ–±–∏",
        type: "–Ω–∞–ø–∞–¥–µ–Ω–∏–µ",
        title: "–ù–∞–ø–∞–¥–µ–Ω–∏–µ –Ω–∞ —Ö—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫—É—é —à–∫–æ–ª—É",
        description: "–ë–æ–µ–≤–∏–∫–∏ –∞—Ç–∞–∫–æ–≤–∞–ª–∏ —à–∫–æ–ª—É –≤ —Ö—Ä–∏—Å—Ç–∏–∞–Ω—Å–∫–æ–º —Ä–∞–π–æ–Ω–µ.",
        source: "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ",
        url: "#",
        victims: 2
    },
    {
        date: "2026-02-22",
        lat: 15.3229,
        lng: 38.9251,
        country: "–≠—Ä–∏—Ç—Ä–µ—è",
        city: "–ê—Å–º—ç—Ä–∞",
        type: "–∞—Ä–µ—Å—Ç",
        title: "–ú–∞—Å—Å–æ–≤—ã–µ –∞—Ä–µ—Å—Ç—ã —Ö—Ä–∏—Å—Ç–∏–∞–Ω",
        description: "30 —Ö—Ä–∏—Å—Ç–∏–∞–Ω –∑–∞–¥–µ—Ä–∂–∞–Ω—ã –≤–æ –≤—Ä–µ–º—è –º–æ–ª–∏—Ç–≤–µ–Ω–Ω–æ–≥–æ —Å–æ–±—Ä–∞–Ω–∏—è.",
        source: "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ",
        url: "#",
        victims: 30
    },
    {
        date: "2026-02-21",
        lat: 10.5105,
        lng: 7.4165,
        country: "–ù–∏–≥–µ—Ä–∏—è",
        city: "–ö–∞–¥—É–Ω–∞",
        type: "–ø–æ—Ö–∏—â–µ–Ω–∏–µ",
        title: "–ü–æ—Ö–∏—â–µ–Ω–∏–µ —Å–≤—è—â–µ–Ω–Ω–∏–∫–∞",
        description: "–ö–∞—Ç–æ–ª–∏—á–µ—Å–∫–∏–π —Å–≤—è—â–µ–Ω–Ω–∏–∫ –ø–æ—Ö–∏—â–µ–Ω –≤–æ–æ—Ä—É–∂–µ–Ω–Ω—ã–º–∏ –ª—é–¥—å–º–∏.",
        source: "–¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ",
        url: "#",
        victims: 1
    }
];

const output = {
    metadata: {
        lastUpdated: new Date().toISOString(),
        version: '2.0-fallback',
        totalEvents: fallbackEvents.length,
        sourcesChecked: 0,
        sourcesWorking: 0,
        errors: [{ source: 'api', error: 'Rate limit exceeded - using fallback data' }],
        updateMethod: 'FALLBACK_RU',
        rssSuccess: true,
        language: 'ru',
        note: '–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º. API –ª–∏–º–∏—Ç –∏—Å—á–µ—Ä–ø–∞–Ω, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—Å—è –∑–∞–≤—Ç—Ä–∞.'
    },
    events: fallbackEvents
};

const outputPath = path.join(__dirname, 'data', 'events.json');

if (!fs.existsSync(path.dirname(outputPath))) {
    fs.mkdirSync(path.dirname(outputPath), { recursive: true });
}

fs.writeFileSync(outputPath, JSON.stringify(output, null, 2), 'utf8');

console.log('‚úÖ Fallback-–¥–∞–Ω–Ω—ã–µ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!');
console.log(`üìä –°–æ–±—ã—Ç–∏–π: ${fallbackEvents.length}`);
console.log('‚è∞ API –ª–∏–º–∏—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —á–µ—Ä–µ–∑ 12-24 —á–∞—Å–∞');
